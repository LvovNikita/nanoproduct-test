# Тестовое задание ООО «Нанопродукт»

## Установка зависимостей и запуск:

```
npm i && npm run dev
```

## Запись на приём:

```
curl -X POST localhost:3000/api/appointment -H 'content-type: application/json' -d '{ "user_id": "644b9710bb71e704fab0cf7c", "doctor_id": "644b9710bb71e704fab0cf80", "slot": "1682683200000" }'
```

даты в запросе и DB — Unix time в миллисекундах (UTC +0)

## Дополнительные коллекции:
* appointments — хранение информации о записи ко врачу

## Случаи записи на невозможное время:
* пользователь уже записан в указанное время ко врачу;
* у доктора нет свободного слота в это время.

## Оповещения:
* используется модуль agenda

## Логирование:
* используется модуль winston;
* логи пишутся в файл appointments.log в формате:

```
{"level":"info","message":"28.04.2023, 13:00:00 | Привет, Alice! Вам через 2 часа к Therapist в 15:00!"}
```